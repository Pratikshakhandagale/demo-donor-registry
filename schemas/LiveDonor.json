{
    "$schema": "http://json-schema.org/draft-07/schema",
    "type": "object",
    "properties": {
      "LiveDonor": {
        "$ref": "#/definitions/LiveDonor"
      }
    },
    "required": [
      "LiveDonor"
    ],
    "title": "LiveDonor",
    "definitions": {
      "LiveDonor": {
        "$id": "#/properties/LiveDonor",
        "type": "object",
        "title": "The LiveDonor Schema",
        "required": [],
        "properties": {
          "donorDetails": {
            "$ref": "#/definitions/DonorDetails"
          },
          "recipientDetails": {
            "$ref": "#/definitions/RecipientDetails"
          },
          "proofOfRelation": {
            "$ref": "#/definitions/ProofOfRelation"
          },
          "medicalDetails": {
            "$ref": "#/definitions/MedicalDetails"
          },
          "medicalHistory": {
            "$ref": "#/definitions/MedicalHistory"
          },
          "bloodGroupDetails": {
            "$ref": "#/definitions/BloodGroupDetails"
          },
          "hematology": {
            "$ref": "#/definitions/Hematology"
          },
          "urineExam": {
            "$ref": "#/definitions/UrineExam"
          },
          "biochemistry": {
            "$ref": "#/definitions/Biochemistry"
          },
          "ekg": {
            "$ref": "#/definitions/EKG"
          },
          "thyroidFunction": {
            "$ref": "#/definitions/ThyroidFunction"
          },
          "virology": {
            "$ref": "#/definitions/Virology"
          },
          "radiology": {
            "$ref": "#/definitions/Radiology"
          },
          "clearances": {
            "$ref": "#/definitions/Clearances"
          },
          "form4": {
            "$ref": "#/definitions/Form4"
          },

          "donorHLA": {
            "$ref": "#/definitions/HLATypingDetails"
          },
          "recipientHLA": {
            "$ref": "#/definitions/HLATypingDetails"
          },
          "crossMatchDetails": {
            "$ref": "#/definitions/CrossMatchDetails"
          },
          "dnaProfiling": {
            "$ref": "#/definitions/DnaProfiling"
          },
          "form5": {
            "type": "string",
            "format": "file",
            "title": "Upload Form 5"
          },
          "swapDetails": {
            "$ref": "#/definitions/SwapDetails"
          },
          "status": {
            "type": "string",
            "enum": [
              "Pending",
              "Processing"
            ]
          }
        }
      },
      "DonorDetails": {
        "title": "Details of the Donor",
        "type": "object",
        "required": [
          "firstName",
          "lastName",
          "dob",
          "gender",
          "mobileNumber",
          "identificationProof",
          "identificationValue",
          "residentialProof",
          "residentialValue"
        ],
        "properties": {
          "firstName": {
            "type": "string",
            "title": "First Name"
          },
          "middleName": {
            "type": "string",
            "title": "Middle Name"
          },
          "lastName": {
            "type": "string",
            "title": "Last Name"
          },
          "fatherName": {
            "type": "string",
            "title": "Father’s Name"
          },
          "motherName": {
            "type": "string",
            "title": "Mother’s Name"
          },
          "dob": {
            "type": "string",
            "format": "date",
            "title": "Date of Birth"
          },
          "gender": {
            "type": "string",
            "enum": [
              "Male",
              "Female",
              "Transgender"
            ],
            "title": "Gender"
          },
          "emailId": {
            "type": "string",
            "format": "email",
            "title": "Email Id"
          },
          "mobileNumber": {
            "type": "string",
            "pattern": "^[6-9]\\d{9}$",
            "title": "Mobile Number"
          },
          "identificationProof": {
            "type": "string",
            "enum": [
              "Voter Id",
              "Aadhaar",
              "Driving License",
              "Passport no",
              "PAN",
              "Ration no"
            ],
            "title": "Identification Proof"
          },
          "identificationValue": {
            "type": "string",
            "title": "ABHA Number"
          },
          "residentialProof": {
            "type": "string",
            "enum": [
              "Voter Id",
              "Aadhaar",
              "Driving License",
              "Passport no",
              "Ration no"
            ],
            "title": "Residential Proof"
          },
          "residentialValue": {
            "type": "string",
            "title": "Residential Number"
          }
        }
      },
      "RecipientDetails": {
        "title": "Details of the Recipient",
        "type": "object",
        "required": [
          "recipientId"
        ],
        "properties": {
          "recipientId": {
            "type": "string",
            "title":"Recipient id"
          }
        }
      },
      "ProofOfRelation": {
        "type": "object",
        "title": "Relation of Donor and Recipient",
        "required": [
          "relation",
          "relationType",
          "documentaryEvidence"
        ],
        "properties": {
          "relationType": {
            "type": "string",
            "enum": [
              "related",
              "unrelated"
            ],
            "title":"Relation Type"
          },
          "relation": {
            "type": "string",
            "enum": [
              "father",
              "mother",
              "spouse"
            ],
            "title":"Relation"
          },
          "form": {
            "type": "string",
            "format": "file",
            "title": "Upload Form # for ## Relative"
          },
          "documentaryEvidence": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "documentaryType": {
                  "type": "string"
                },
                "documentaryUri": {
                  "type": "string",
                  "format": "file"
                },
                "issuedDate": {
                  "type": "string",
                  "format": "date"
                }
              }
            }
          }
        }
      },
      "MedicalDetails": {
        "type": "object",
        "title": "Medical Details",
        "required": [
          "height",
          "weight",
          "bmi"
        ],
        "properties": {
          "height": {
            "type": "string",
            "title": "Height (in CMS)"
          },
          "weight": {
            "type": "string",
            "title": "Weight (in KG)"
          },
          "bmi": {
            "type": "string",
            "title": "BMI"
          }
        }
      },
      "MedicalHistory": {
        "type": "object",
        "title": "Medical History",
        "required": [
          "hypertension",
          "systolic",
          "diastolic",
          "diabetes",
          "gfr",
          "historyIllness"
        ],
        "properties": {
          "hypertension": {
            "type": "string",
            "enum": [
              "yes",
              "no"
            ],
            "title": "Hypertension"
          },
          "systolic": {
            "type": "number",
            "title": "Systolic mm HG"
          },
          "diastolic": {
            "type": "number",
            "title": "Diastolic mm HG"
          },
          "diabetes": {
            "type": "string",
            "enum": [
              "yes",
              "no"
            ],
            "title": "Diabetes"
          },
          "gfr": {
            "type": "object",
            "properties": {
              "method": {
                "type": "string",
                "enum": [
                  "DTPR/e",
                  "GFR",
                  "RCL"
                ],
                "title": "GFR (Method)"
              },
              "result": {
                "type": "string",
                "title": "GFR (Result)"
              }
            }
          },
          "historyIllness": {
            "type": "string",
            "title": "History of any other illness"
          }
        }
      },
      "BloodGroupDetails": {
        "type": "object",
        "title": "Blood Group Details",
        "required": [
          "group",
          "transfusion"
        ],
        "properties": {
          "group": {
            "type": "string",
            "enum": [
              "A+",
              "A-",
              "B+",
              "B-",
              "AB+",
              "AB-",
              "O+",
              "O-"
            ],
            "title": "Blood Group"
          },
          "transfusion": {
            "type": "object",
            "properties": {
              "number": {
                "type": "string",
                "enum": [
                  "yes",
                  "no"
                ],
               "title": "Transfusion"
              },
              "lastTransfusionDate": {
                "type": "string",
                "format": "date",
                "title":"Date"
              }
            }
          }
        }
      },
      "CrossMatchDetails": {
        "type": "object",
        "title": "Cross Matching",
        "properties": {
          "crossMatchStatus": {
            "type": "string",
            "enum": [
              "positive",
              "negative"
            ],
            "title":"Cross Match Status"
          },
          "crossMatchDate": {
            "type": "string",
            "format": "date",
            "title":"Date"
          },
          "crossMatchFile": {
            "type": "string",
            "format": "file",
            "title":"Upload"
          }
        }
      },
      "DnaProfiling": {
        "type": "object",
        "title" : "DNA Profiling (Only for near relatives)",
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "yes",
              "no"
            ],
            "title": "Status"
          },
          "date": {
            "type": "string",
            "format": "date",
            "title":"Date"
          },
          "dnaFile": {
            "type": "string",
            "format": "file",
            "title":"Upload"
          }
        }
      },
      "SwapDetails": {
        "type": "object",
        "title": "Are you looking for a swap?",
        "properties": {
          "swapStatus": {
            "type": "string",
            "enum": [
              "yes",
              "no"
            ],
            "title":"Status"
          },
          "donorConsent": {
            "type": "string",
            "title":"Donor ABHA Number *"
          },
          "recipientConsent": {
            "type": "string",
            "title":"Recipient ABHA Number *"
          }
        }
      },
      "HLATypingDetails": {
        "type": "object",
        "title": "HLA Typing Details",
        "required": [
          "a",
          "b",
          "dr",
          "dq",
          "other"
        ],
        "properties": {
          "a": {
            "type": "string",
            "title":"A"
          },
          "b": {
            "type": "string",
            "title":"B"
          },
          "dr": {
            "type": "string",
            "title":"DR"
          },
          "dq": {
            "type": "string",
            "title":"DQ"
          },
          "other": {
            "type": "string",
            "title":"Other"
          }
        }
      },
      "Hematology": {
        "type": "object",
        "title": "Hematology",
        "properties": {
          "hb": {
            "type": "string",
            "title": "Hb(gm/dl)"
          },
          "tlc": {
            "type": "string",
            "title": "TLC (cells/mm^3)"
          },
          "dcl": {
            "type": "string",
            "title": "DCL"
          },
          "platelets": {
            "type": "string",
            "title": "Platelets (x1000 cells/mm^3)"
          },
          "pbSmear": {
            "type": "string",
            "title": "PB Smear"
          },
          "esr": {
            "type": "string",
            "title": "ESR (mm)"
          }
        }
      },
      "UrineExam":  {
        "type": "object",
        "title": "Urine Exam",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      },
      "Biochemistry": {
        "type": "object",
        "title": "Biochemistry",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      },
      "EKG":  {
        "title": "EKG",
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      },
      "ThyroidFunction": {
        "title": "Thyroid Function",
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      },
      "Virology":  {
        "title": "Virology",
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      },
      "Radiology": {
        "title": "Radiology",
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      },
      "Clearances":  {
        "title": "Clearances",
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      },
      "Form4": {
        "title": "Form 4",
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "format": "file"
          }
        }
      }
    },
    "_osConfig": {
      "privateFields": [],
      "indexFields": [],
      "uniqueIndexFields": [],
      "systemFields": [
        "osCreatedAt",
        "osUpdatedAt",
        "osCreatedBy",
        "osUpdatedBy"
      ],
      "inviteRoles": [
        "anonymous"
      ],
      "roles": [
        "anonymous"
      ],
      "ownershipAttributes": []
    }
  }
